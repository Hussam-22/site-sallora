---
// Import the necessary components
import StatsBig from "@components/ui/blocks/StatsBig.astro";
import StatsSmall from "@components/ui/blocks/StatsSmall.astro";

const { title, subTitle, stats, mainStatTitle, mainStatSubTitle } = Astro.props;

interface Props {
  title: string;
  subTitle?: string;
  mainStatTitle: string;
  mainStatSubTitle: string;
  stats?: Stat[];
}

// TypeScript type for the statistics
type Stat = {
  stat: string;
  description: string;
};
---

<section class="">
  <div class="max-w-screen-md text-center sm:text-left">
    <!-- Main title -->
    <h2 class="mb-4 text-balance text-4xl font-extrabold tracking-tight">
      {title}
    </h2>
    <!-- Subtitle -->
    {
      subTitle && (
        <p class="mb-16 max-w-prose text-pretty font-normal sm:text-xl">
          {subTitle}
        </p>
      )
    }
  </div>
  <!-- Grid container for statistics -->
  <div class="grid items-center gap-6 lg:grid-cols-12 lg:gap-12">
    <!-- First grid item, showing a big statistics -->
    <div class="rounded-3xl bg-zinc-100 px-6 py-6 sm:mr-4 lg:col-span-4">
      <StatsBig title={mainStatTitle} subTitle={mainStatSubTitle} />
    </div>
    <!-- Second grid item, showing multiple small statistics -->
    {
      stats && (
        <div class="relative lg:col-span-8 lg:before:absolute lg:before:-start-12 lg:before:top-0 lg:before:h-full lg:before:w-px lg:before:bg-zinc-300 lg:before:dark:bg-zinc-700">
          <div class="grid grid-cols-2 gap-6 rounded-3xl bg-zinc-100 px-6 py-6 sm:gap-8 md:grid-cols-4 lg:grid-cols-3">
            {stats.map((stat) => (
              <StatsSmall title={stat.stat} subTitle={stat.description} />
            ))}
          </div>
        </div>
      )
    }
  </div>
</section>
